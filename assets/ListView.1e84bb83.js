import{g as U,s as j,h,r as c,o as l,c as V,w as d,a as n,j as D,b as e,f as o,d as s,k as R,e as b,F as w,t as $}from"./index.62ec7ce7.js";const T=e("h1",{class:"text-center"},"\u5F85\u8FA6\u4E8B\u9805",-1),z=e("thead",null,[e("tr",null,[e("th",null,"\u540D\u7A31"),e("th",null,"\u64CD\u4F5C")])],-1),A={key:0},G=e("td",{class:"text-center",colspan:"2"},"\u6C92\u6709\u4E8B\u9805",-1),H={key:1},J={key:0},M={key:1},O=e("h1",null,"\u5DF2\u5B8C\u6210\u4E8B\u9805",-1),P=e("thead",null,[e("tr",null,[e("th",null,"\u540D\u7A31"),e("th",null,"\u64CD\u4F5C")])],-1),Q={key:0},W=e("td",{class:"text-center",colspan:"2"},"\u6C92\u6709\u4E8B\u9805",-1),X=[W],ee={__name:"ListView",setup(Y){const m=U(),{addItem:q,editItem:B,delItem:S,confirmEditItem:E,undoEditItem:F,delFinishedItem:K}=m,{items:f,finishedItems:k}=j(m),p=h(""),u=h(null),y=h([]),_={required(i){return!!i||"\u6B04\u4F4D\u5FC5\u586B"},length(i){return i.length>=3||"\u5FC5\u9808\u4E09\u500B\u5B57\u4EE5\u4E0A"}},x=async()=>{(await u.value.validate()).length>0||(q(p.value),u.value.$el.querySelector("input").blur(),u.value.reset())};return(i,C)=>{const v=c("v-col"),r=c("v-btn"),g=c("v-text-field"),I=c("v-table"),L=c("v-divider"),N=c("v-row");return l(),V(N,{id:"list"},{default:d(()=>[n(v,{cols:"12"},{default:d(()=>[T]),_:1}),n(v,{cols:"12"},{default:d(()=>[n(g,{ref_key:"input",ref:u,modelValue:p.value,"onUpdate:modelValue":C[0]||(C[0]=t=>p.value=t),variant:"solo",label:"\u65B0\u589E\u4E8B\u9805",rules:[_.required,_.length],onKeydown:D(x,["enter"])},{append:d(()=>[n(r,{icon:"mdi-plus",variant:"text",onClick:x})]),_:1},8,["modelValue","rules","onKeydown"]),n(I,null,{default:d(()=>[z,e("tbody",null,[o(f).length===0?(l(),s("tr",A)):R("",!0),G,(l(!0),s(w,null,b(o(f),t=>(l(),s("tr",{key:t.id,ref_for:!0,ref_key:"editInputs",ref:y},[e("td",null,[t.edit?(l(),V(g,{key:0,modelValue:t.model,"onUpdate:modelValue":a=>t.model=a,autofocus:"",rules:[_.required,_.length]},null,8,["modelValue","onUpdate:modelValue","rules"])):(l(),s("span",H,$(t.name),1))]),e("td",null,[t.edit?(l(),s("span",J,[n(r,{icon:"mdi-check",variant:"text",color:"green",onClick:a=>o(E)(t.id)},null,8,["onClick"]),n(r,{icon:"mdi-undo",variant:"text",color:"red",onClick:a=>o(F)(t.id)},null,8,["onClick"])])):(l(),s("span",M,[n(r,{icon:"mdi-pencil",variant:"text",color:"green",onClick:a=>o(B)(t.id)},null,8,["onClick"]),n(r,{icon:"mdi-delete",variant:"text",color:"red",onClick:a=>o(S)(t.id)},null,8,["onClick"])]))])]))),128))])]),_:1})]),_:1}),n(L),n(v,{cols:"12"},{default:d(()=>[O]),_:1}),n(v,{cols:"12"},{default:d(()=>[n(I,null,{default:d(()=>[P,e("tbody",null,[o(k).length===0?(l(),s("tr",Q,X)):(l(!0),s(w,{key:1},b(o(k),t=>(l(),s("tr",{key:t.id,ref_for:!0,ref_key:"editInputs",ref:y},[e("td",null,$(t.name),1),e("td",null,[n(r,{icon:"mdi-delete",variant:"text",color:"red",onClick:a=>o(K)(t.id)},null,8,["onClick"])])]))),128))])]),_:1})]),_:1})]),_:1})}}};export{ee as default};
